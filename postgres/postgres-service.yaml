# Maps a collection of pods to a single IP address
# Accessible via env variables, or with a DNS addon
apiVersion: v1
kind: Service

metadata:
  name: postgres-service
  labels:
    app: postgres

spec:
  type: NodePort
  # Select pods in the postgress app
  selector:
    app: postgres

  # Which port data is received on.
  # By default, targetPort == port, so data will be forwarded to port 5432 of selected pods.
  ports:
    - port: 5432
      nodePort: 30001
